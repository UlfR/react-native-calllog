TODO
    1. use thread
    2. errors support
